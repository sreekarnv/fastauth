<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>FastAuth RBAC Blog Example</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				max-width: 900px;
				margin: 50px auto;
				padding: 20px;
				background-color: #f5f5f5;
			}
			.container {
				background-color: white;
				padding: 30px;
				border-radius: 8px;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			}
			.nav {
				margin: 20px 0;
			}
			h1 {
				color: #333;
				border-bottom: 3px solid #4caf50;
				padding-bottom: 10px;
			}
			h2 {
				color: #666;
				margin-top: 30px;
			}
			.role-card {
				background-color: #f9f9f9;
				padding: 15px;
				margin: 10px 0;
				border-left: 4px solid #4caf50;
				border-radius: 4px;
			}
			.permission {
				display: inline-block;
				background-color: #e3f2fd;
				padding: 4px 12px;
				margin: 4px;
				border-radius: 12px;
				font-size: 14px;
				color: #1976d2;
			}
			.endpoint {
				background-color: #fff3e0;
				padding: 10px;
				margin: 8px 0;
				border-radius: 4px;
				font-family: monospace;
			}
			.method {
				display: inline-block;
				padding: 2px 8px;
				border-radius: 3px;
				font-weight: bold;
				margin-right: 10px;
			}
			.get {
				background-color: #4caf50;
				color: white;
			}
			.post {
				background-color: #2196f3;
				color: white;
			}
			.patch {
				background-color: #ff9800;
				color: white;
			}
			.delete {
				background-color: #f44336;
				color: white;
			}
			.button {
				display: inline-block;
				padding: 12px 24px;
				background-color: #4caf50;
				color: white;
				text-decoration: none;
				border-radius: 4px;
				margin: 10px 10px 10px 0;
			}
			.button:hover {
				background-color: #45a049;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>FastAuth RBAC Blog Example</h1>
			<p>
				This example demonstrates
				<strong>Role-Based Access Control (RBAC)</strong> in a blog application.
			</p>

			<div class="nav">
				<a href="/docs" class="button">API Documentation</a>
				<a href="/redoc" class="button">ReDoc</a>
			</div>

			<h2>Roles & Permissions</h2>

			<div class="role-card">
				<h3>Viewer</h3>
				<p><strong>Purpose:</strong> Read-only access to published content</p>
				<p>
					<strong>Permissions:</strong> None (can only view published posts)
				</p>
			</div>

			<div class="role-card">
				<h3>Editor</h3>
				<p><strong>Purpose:</strong> Create and edit blog posts</p>
				<p><strong>Permissions:</strong></p>
				<span class="permission">create_post</span>
				<span class="permission">edit_post</span>
			</div>

			<div class="role-card">
				<h3>Admin</h3>
				<p><strong>Purpose:</strong> Full control over blog and users</p>
				<p><strong>Permissions:</strong></p>
				<span class="permission">create_post</span>
				<span class="permission">edit_post</span>
				<span class="permission">publish_post</span>
				<span class="permission">delete_post</span>
			</div>

			<h2>API Endpoints</h2>

			<h3>Authentication</h3>
			<div class="endpoint">
				<span class="method post">POST</span> /register - Register new user
				(auto-assigned viewer role)
			</div>
			<div class="endpoint">
				<span class="method post">POST</span> /login - Login and get access
				token
			</div>
			<div class="endpoint">
				<span class="method get">GET</span> /me - Get current user info with
				roles & permissions
			</div>

			<h3>Blog Posts</h3>
			<div class="endpoint">
				<span class="method get">GET</span> /posts - List posts (published for
				all, all for editors+)
			</div>
			<div class="endpoint">
				<span class="method post">POST</span> /posts - Create post
				<em>Requires: create_post</em>
			</div>
			<div class="endpoint">
				<span class="method get">GET</span> /posts/{id} - Get single post
			</div>
			<div class="endpoint">
				<span class="method patch">PATCH</span> /posts/{id} - Update post
				<em>Requires: edit_post</em>
			</div>
			<div class="endpoint">
				<span class="method post">POST</span> /posts/{id}/publish -
				Publish/unpublish <em>Requires: publish_post</em>
			</div>
			<div class="endpoint">
				<span class="method delete">DELETE</span> /posts/{id} - Delete post
				<em>Requires: delete_post</em>
			</div>

			<h3>Admin</h3>
			<div class="endpoint">
				<span class="method get">GET</span> /admin/users - List all users
				<em>Requires: admin role</em>
			</div>

			<h2>Getting Started</h2>
			<ol>
				<li>Run the seed script: <code>python -m app.seed</code></li>
				<li>Use one of the test accounts (see README.md)</li>
				<li>Test different endpoints with different roles</li>
			</ol>

			<h2>Learn More</h2>
			<p>
				Check out the <a href="/docs">interactive API documentation</a> to test
				the endpoints!
			</p>
		</div>
	</body>
</html>
